<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Animated Hot Cup of Tea using Html & CSS only | CSS Animation Effects</title>
    <link rel="stylesheet" href="./style/index.css">
</head>
<body>
<main id="app">
    <div class="container">
        <div class="plate"></div>
        <div class="cup">
            <div class="top">
                <div class="vapour">
                    <span v-for="i in vapours" :key="`vapour-${i}`" :style="`--i:${i}`"></span>
                </div>
                <div class="circle">
                    <div class="tea"></div>
                </div>
            </div>
        </div>
        <div class="handhold"></div>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/vue@3.0.5/dist/vue.global.prod.js"></script>
<script>
    const {createApp} = Vue;

    function shuffle(array) {
        var currentIndex = array.length, temporaryValue, randomIndex;

        // While there remain elements to shuffle...
        while (0 !== currentIndex) {

            // Pick a remaining element...
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex -= 1;

            // And swap it with the current element.
            temporaryValue = array[currentIndex];
            array[currentIndex] = array[randomIndex];
            array[randomIndex] = temporaryValue;
        }

        return array;
    }

    const App = {

        data() {

            return {
                vapours: this.shuffledArray(20)
            }
        },

        methods: {

            /* 洗牌算法 : https://shubo.io/javascript-random-shuffle/ */
            /* Fisher–Yates shuffle 洗牌算法 : https://gaohaoyang.github.io/2016/10/16/shuffle-algorithm/ */
            /* How to randomize (shuffle) a JavaScript array? https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array */
            shuffledArray(length) {

                return shuffle(new Array(length).fill('').map((element, index) => index + 1))
            }
        }
    };

    createApp(App).mount('#app');
</script>
</body>
</html>
